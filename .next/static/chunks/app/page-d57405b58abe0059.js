(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{92167:function(e,a,t){Promise.resolve().then(t.bind(t,74492))},74492:function(e,a,t){"use strict";t.d(a,{default:function(){return A}});var r=t(57437),s=t(2265),l=t(94838),n=t(84631),i=t(73732),d=t(37053),o=t(90535),c=t(61994),u=t(53335);function f(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,u.m6)((0,c.W)(a))}let m=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=s.forwardRef((e,a)=>{let{className:t,variant:s,size:l,asChild:n=!1,...i}=e,o=n?d.g7:"button";return(0,r.jsx)(o,{className:f(m({variant:s,size:l,className:t})),ref:a,...i})});p.displayName="Button";var x=t(40294),g=t(40875),h=t(30401);let b=x.fC;x.ZA;let v=x.B4,j=s.forwardRef((e,a)=>{let{className:t,children:s,...l}=e;return(0,r.jsxs)(x.xz,{ref:a,className:f("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...l,children:[s,(0,r.jsx)(x.JO,{asChild:!0,children:(0,r.jsx)(g.Z,{className:"h-4 w-4 opacity-50"})})]})});j.displayName=x.xz.displayName;let y=s.forwardRef((e,a)=>{let{className:t,children:s,position:l="popper",...n}=e;return(0,r.jsx)(x.h_,{children:(0,r.jsx)(x.VY,{ref:a,className:f("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:(0,r.jsx)(x.l_,{className:f("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})});y.displayName=x.VY.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(x.__,{ref:a,className:f("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s})}).displayName=x.__.displayName;let N=s.forwardRef((e,a)=>{let{className:t,children:s,...l}=e;return(0,r.jsxs)(x.ck,{ref:a,className:f("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(x.wU,{children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(x.eT,{children:s})]})});N.displayName=x.ck.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(x.Z0,{ref:a,className:f("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=x.Z0.displayName;var w=e=>{let{onSave:a,onCancel:t}=e;return(0,r.jsxs)("div",{className:"bg-white border-b border-gray-200 p-2 flex items-center space-x-4",children:[(0,r.jsxs)(b,{defaultValue:"class",children:[(0,r.jsx)(j,{className:"w-[180px]",children:(0,r.jsx)(v,{placeholder:"Diagram Type"})}),(0,r.jsxs)(y,{children:[(0,r.jsx)(N,{value:"class",children:"Class Diagram"}),(0,r.jsx)(N,{value:"sequence",children:"Sequence Diagram"}),(0,r.jsx)(N,{value:"usecase",children:"Use Case Diagram"})]})]}),(0,r.jsx)("div",{className:"flex-1"}),(0,r.jsx)(p,{variant:"outline",onClick:t,children:"Cancel"}),(0,r.jsx)(p,{onClick:a,children:"Save"})]})},k=e=>{let{onAddNode:a}=e;return(0,r.jsx)("div",{className:"w-48 bg-gray-100 border-r border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"font-bold mb-2",children:"Elements"}),(0,r.jsx)(p,{className:"w-full justify-start",variant:"outline",onClick:()=>a("package"),children:"Package"}),(0,r.jsx)(p,{className:"w-full justify-start",variant:"outline",onClick:()=>a("class"),children:"Class"}),(0,r.jsx)(p,{className:"w-full justify-start",variant:"outline",onClick:()=>a("abstract"),children:"Abstract"}),(0,r.jsx)(p,{className:"w-full justify-start",variant:"outline",onClick:()=>a("interface"),children:"Interface"}),(0,r.jsx)(p,{className:"w-full justify-start",variant:"outline",onClick:()=>a("enumeration"),children:"Enumeration"})]})})};let C=s.forwardRef((e,a)=>{let{className:t,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:f("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...l})});C.displayName="Input";var _=t(6394);let R=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(_.f,{ref:a,className:f(R(),t),...s})});E.displayName=_.f.displayName;var z=e=>{let{selectedNode:a,onUpdateNode:t}=e,[l,n]=(0,s.useState)(""),[i,d]=(0,s.useState)("");return a?(0,r.jsxs)("div",{className:"w-64 bg-gray-50 border-l border-gray-200 p-4",children:[(0,r.jsx)("h3",{className:"font-bold mb-4",children:"Properties"}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(E,{children:"Name"}),(0,r.jsx)(C,{value:a.getOptions().name||"",onChange:e=>t({name:e.target.value})})]})})]}):null},A=()=>{let[e]=(0,s.useState)(()=>{let e=(0,l.ZP)(),a=new l.Vm;return e.setModel(a),e}),[a,t]=(0,s.useState)(null),d=(0,s.useRef)(null),o=(0,s.useCallback)(a=>{let t=new l.Fs({name:"New "+a.charAt(0).toUpperCase()+a.slice(1),color:"rgb(0,192,255)"});t.addInPort("In"),t.addOutPort("Out"),t.setPosition(100,100),e.getModel().addNode(t),e.repaintCanvas()},[e]),c=async()=>{if(d.current){let e=await (0,i.YM)(d.current),a=document.createElement("a");a.download="uml-diagram.png",a.href=e,a.click()}};return(0,r.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,r.jsx)(w,{onSave:c,onCancel:()=>{window.confirm("Are you sure you want to cancel? All changes will be lost.")&&(e.getModel().getNodes().forEach(a=>{e.getModel().removeNode(a)}),e.repaintCanvas())}}),(0,r.jsxs)("div",{className:"flex-1 flex",children:[(0,r.jsx)(k,{onAddNode:o}),(0,r.jsx)("div",{className:"flex-1 relative bg-grid",ref:d,children:(0,r.jsx)(n.JE,{engine:e,className:"h-full w-full"})}),(0,r.jsx)(z,{selectedNode:a,onUpdateNode:t=>{a&&(a.setName(t.name||a.getOptions().name),e.repaintCanvas())}})]})]})}}},function(e){e.O(0,[766,971,117,744],function(){return e(e.s=92167)}),_N_E=e.O()}]);